diff --git a/client/src/pages/dashboard/ResidenteFases.tsx b/client/src/pages/dashboard/ResidenteFases.tsx
index 26d353d7d1a0b0680190288fc3adb94984920242..77fa71cfa35c036075d3ae7de2fc25e9bb30bdb9 100644
--- a/client/src/pages/dashboard/ResidenteFases.tsx
+++ b/client/src/pages/dashboard/ResidenteFases.tsx
@@ -255,84 +255,83 @@ const ResidenteFases: React.FC = () => {
     loadSociedad();
   }, [user]);
 
   const handleOpenDialog = (
     progresoId: string,
     index: number,
     toggleKey?: string,
     mode: 'complete' | 'edit' = 'complete'
   ) => {
     setDialogMode(mode);
     setSelectedProgresoId(progresoId);
     setSelectedActividadIndex(index);
     setActiveToggleKey(mode === 'complete' ? toggleKey ?? null : null);
 
     const progreso = progresos.find(p => p._id === progresoId);
     const actividad = progreso?.actividades?.[index];
     const esCirugiaActividad = actividad?.tipo === 'cirugia';
     setEsCirugia(!!esCirugiaActividad);
 
     const fechaBase = actividad?.fecha || actividad?.fechaRealizacion;
     const fechaInicial = fechaBase
       ? new Date(fechaBase).toISOString().split('T')[0]
       : new Date().toISOString().split('T')[0];
     setFecha(fechaInicial);
 
-    setComentario(mode === 'edit' ? actividad?.comentariosResidente || '' : '');
-    setArchivo(null);
-    setArchivoError(false);
-    setArchivoErrorMsg('');
+    setComentario(mode === 'edit' ? actividad?.comentariosResidente || '' : '');
+    setArchivoError(false);
+    setArchivoErrorMsg('');
 
     if (mode === 'edit' && esCirugiaActividad) {
       if (actividad?.cirugia) {
         setCirugia(actividad.cirugia);
         setOtraCirugia('');
         setOtraCirugiaSeleccionada(false);
       } else if (actividad?.otraCirugia) {
         setCirugia(null);
         setOtraCirugia(actividad.otraCirugia);
         setOtraCirugiaSeleccionada(true);
       } else {
         setCirugia(null);
         setOtraCirugia('');
         setOtraCirugiaSeleccionada(false);
       }
       setNombreCirujano(actividad?.nombreCirujano || '');
       setPorcentaje(
         typeof actividad?.porcentajeParticipacion === 'number'
           ? actividad.porcentajeParticipacion
           : 0
       );
     } else {
       setCirugia(null);
       setOtraCirugia('');
       setOtraCirugiaSeleccionada(false);
       setNombreCirujano('');
       setPorcentaje(0);
     }
 
-    setArchivos([]);
+    setArchivos([]);
     setAdjuntosEliminados([]);
     setArchivoError(false);
     setArchivoErrorMsg('');
     setAdjuntosExistentes(mode === 'edit' ? actividad?.adjuntos || [] : []);
 
     setDialogOpen(true);
   };
 
   const handleToggleComplete = (progresoId: string, index: number, toggleKey: string) => {
     setCompletionToggles(prev => ({ ...prev, [toggleKey]: true }));
     handleOpenDialog(progresoId, index, toggleKey);
   };
 
   const handleEditActividad = (progresoId: string, index: number) => {
     handleOpenDialog(progresoId, index, undefined, 'edit');
   };
 
   const botonConfirmarHabilitado =
     Boolean(selectedProgresoId) &&
     selectedActividadIndex !== null &&
     Boolean(fecha) &&
     !archivoError &&
     (!esCirugia ||
       ((cirugia || otraCirugia.trim()) &&
         nombreCirujano.trim() !== '' &&
